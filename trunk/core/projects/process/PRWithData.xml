<?xml version="1.0" encoding="UTF-8"?>
<sml:SensorML xmlns:gml="http://www.opengis.net/gml" xmlns:sml="http://www.opengis.net/sensorML/1.0" xmlns:swe="http://www.opengis.net/swe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/sensorML/1.0 file:///C:\eclipse_workspace\schema\sensorML\sensorML.xsd" version="1.0">
   <sml:member>
      <sml:ProcessChain gml:id="PR_GEOLOCATION">
 <gml:description>
       This process chain determines PR position vector and the ECEF view vector. This chain is composed of 2 chains,
       one specific to PR, the other is generic.
 </gml:description>
      <gml:name>PR</gml:name>
 <sml:inputs>
    <sml:InputList>
        <sml:input name="scanTime">
           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                <swe:uom code="s"/>
            </swe:Time>
        </sml:input>
       <sml:input name="scanIndex">
             <swe:Quantity/>
       </sml:input>
       <sml:input name="distanceIndex">
          <swe:Quantity>
             <swe:value>0</swe:value>
          </swe:Quantity>
       </sml:input>
    </sml:InputList>
 </sml:inputs>
 <sml:outputs>
    <sml:OutputList>
       <sml:output name="ECEF_data_location">
          <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
             <swe:coordinate name="x">
                <swe:Quantity>
                   <swe:uom code="m"/>
                </swe:Quantity>
             </swe:coordinate>
             <swe:coordinate name="y">
                <swe:Quantity>
                   <swe:uom code="m"/>
                </swe:Quantity>
             </swe:coordinate>
             <swe:coordinate name="z">
                <swe:Quantity>
                   <swe:uom code="m"/>
                </swe:Quantity>
             </swe:coordinate>
          </swe:Vector>
       </sml:output>
    </sml:OutputList>
 </sml:outputs>
 <sml:components>
  <sml:ComponentList>    
     <!--~~~~~~~~~~~~~~~~~~-->
     <!--~~~~~~~~~~~~~~~~~~-->
     <!-- 1st chain -->
     <!--~~~~~~~~~~~~~~~~~~-->  
     <!--~~~~~~~~~~~~~~~~~~-->
  <sml:component name="PR_specific">
   <sml:ProcessChain>
      <gml:description>
            This process chain determines the matrix to tansform the sample view vector into the satellite view
            vector in function of the channel and pixel. This chain is AMSR-E SPECIFIC.
      </gml:description>
      <!--~~~~~~~~~~~~~~~~~~-->
      <!-- Inputs & Outputs -->
      <!--~~~~~~~~~~~~~~~~~~-->
       <sml:inputs>
           <sml:InputList>
               <sml:input name="scanIndex">
                   <swe:Quantity/>
               </sml:input>
               <sml:input name="distanceIndex">
                   <swe:Quantity/>
               </sml:input>
           </sml:InputList>
       </sml:inputs>
      <sml:outputs>
         <sml:OutputList>
            <sml:output name="Satellite_view_vector">
               <swe:Vector definition="urn:ogc:def:data:viewVector">
                  <swe:coordinate name="x">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                       <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:output>
            <sml:output name="distanceOnTheViewVector">
               <swe:Quantity>
                  <swe:uom code="m"/>
               </swe:Quantity>
            </sml:output> 
         </sml:OutputList>
      </sml:outputs>
      <sml:components>
         <sml:ComponentList>
             <!--~~~~~~~~~~~~~~~~~~~~-->
             <!-- LUT pointing angle -->
             <!--~~~~~~~~~~~~~~~~~~~~-->
             <sml:component name="LUTscanAngle">
                 <sml:ProcessModel>
                     <sml:inputs>
                         <sml:InputList>
                             <sml:input name="scanIndex">
                                 <swe:Quantity/>
                             </sml:input>
                         </sml:InputList>
                     </sml:inputs>
                     <sml:outputs>
                         <sml:OutputList>
                             <sml:output name="scanAngle">
                                 <swe:Quantity/>
                             </sml:output>
                         </sml:OutputList>
                     </sml:outputs>
                     <sml:parameters>
                         <sml:ParameterList>
                             <sml:parameter name="interpolationMethod">
                                 <swe:Category>
                                     <swe:value>linear</swe:value>
                                 </swe:Category>
                             </sml:parameter>
                             <sml:parameter name="table">
                                 <swe:Curve>
                                     <swe:elementCount>
                                         <swe:Count>
                                             <swe:value>49</swe:value>
                                         </swe:Count>
                                     </swe:elementCount>
                                     <swe:elementType>
                                         <swe:SimpleDataRecord>
                                             <swe:field name="scanIndex">
                                                 <swe:Quantity/>
                                             </swe:field>
                                             <swe:field name="scanAngle">
                                                 <swe:Quantity/>
                                             </swe:field>
                                         </swe:SimpleDataRecord>
                                     </swe:elementType>
                                    <swe:encoding>
                                       <swe:TextBlock tokenSeparator="," blockSeparator=" " decimalSeparator="."/>
                                    </swe:encoding>
                                     <swe:values>
                                        1,-0.297264471
                                        2,-0.284977345
                                        3,-0.272498255
                                        4,-0.260123877
                                        5,-0.247749482
                                        6,-0.235392564
                                        7,-0.223000726
                                        8,-0.210626331
                                        9,-0.198251953
                                        10,-0.185842655
                                        11,-0.173433373
                                        12,-0.161111342
                                        13,-0.148649696
                                        14,-0.136310214
                                        15,-0.123866019
                                        16,-0.111509085
                                        17,-0.099082342
                                        18,-0.08674286
                                        19,-0.074316118
                                        20,-0.061924284
                                        21,-0.049584805
                                        22,-0.037158059
                                        23,-0.024783675
                                        24,-0.012409291
                                        25,0
                                        26,0.012409291
                                        27,0.024818583
                                        28,0.037192967
                                        29,0.049584805
                                        30,0.061976644
                                        31,0.07433357
                                        32,0.086725408
                                        33,0.099082342
                                        34,0.111509085
                                        35,0.123883471
                                        36,0.136205493
                                        37,0.14870206
                                        38,0.161076438
                                        39,0.173433373
                                        40,0.185842655
                                        41,0.198269397
                                        42,0.210608888
                                        43,0.22301817
                                        44,0.235392564
                                        45,0.247819307
                                        46,0.26014132
                                        47,0.272568063
                                        48,0.284959901
                                        49,0.297299392                                        
                                     </swe:values>
                                 </swe:Curve>
                             </sml:parameter>
                         </sml:ParameterList>
                     </sml:parameters>
                     <sml:method xlink:href="urn:ogc:def:process:LUT1D:1.0"/>
                 </sml:ProcessModel>
             </sml:component> 
             <!--~~~~~~~~~~~~~~~~~~~~~~~-->
             <!-- Matrix builder from sample 2 instrument  -->
             <!--~~~~~~~~~~~~~~~~~~~~~~~-->                     
             <sml:component name="MatrixBuilderSatellite">
                 <sml:ProcessModel>
                     <sml:inputs>
                         <sml:InputList>
                             <sml:input name="orientation">
                                 <swe:Vector definition="urn:ogc:def:data:orientationVector">
                                     <swe:coordinate name="y">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                             <swe:uom code="rad"/>
                                            <swe:value>0.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="x">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                             <swe:uom code="rad"/>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="z">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                             <swe:uom code="rad"/>
                                             <swe:value>0.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                 </swe:Vector>
                             </sml:input>
                         </sml:InputList>
                     </sml:inputs>
                     <sml:outputs>
                         <sml:OutputList>
                             <sml:output name="posMatrix">
                                 <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                                     <swe:elementCount>
                                         <swe:Count>
                                             <swe:value>9</swe:value>
                                         </swe:Count>
                                     </swe:elementCount>
                                     <swe:elementType name="element">
                                         <swe:Quantity/>
                                     </swe:elementType>
                                 </swe:DataArray>
                             </sml:output>
                         </sml:OutputList>
                     </sml:outputs>
                     <sml:method xlink:href="urn:ogc:def:process:pos2Matrix3:1.0"/>
                 </sml:ProcessModel>
             </sml:component>    
             <!--~~~~~~~~~~~~~~~~~~~~~~~-->
             <!--transformation from sample to satellite view vector  -->
             <!--~~~~~~~~~~~~~~~~~~~~~~~-->  
             <sml:component name="VectorMatrixMultiplierSatellite">
                 <sml:ProcessModel>
                     <sml:inputs>
                         <sml:InputList>  
                             <sml:input name="vector">
                                 <swe:Vector definition="urn:ogc:def:data:viewVector">
                                     <swe:coordinate name="x">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                             <swe:value>0.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="y">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                             <swe:value>0.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="z">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                             <swe:value>-1.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                 </swe:Vector>
                             </sml:input>            
                             <sml:input name="transformMatrix">
                                 <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                                     <swe:elementCount>
                                         <swe:Count>
                                             <swe:value>9</swe:value>
                                         </swe:Count>
                                     </swe:elementCount>
                                     <swe:elementType name="element">
                                         <swe:Quantity/>
                                     </swe:elementType>
                                 </swe:DataArray>
                             </sml:input>
                         </sml:InputList>
                     </sml:inputs>
                     <sml:outputs>
                         <sml:OutputList>
                             <sml:output name="newVector">
                                 <swe:Vector definition="urn:ogc:def:data:viewVector">
                                     <swe:coordinate name="x">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="y">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="z">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                 </swe:Vector>
                             </sml:output>
                         </sml:OutputList>
                     </sml:outputs>
                     <sml:method xlink:href="urn:ogc:def:process:vectorMatrixMultiplication:1.0"/>
                 </sml:ProcessModel>
             </sml:component>
             <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- LUT ray starting sampling distance -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="LUTrayStartingDistance">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="scanIndex">
                              <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="rayStartingDistance">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="interpolationMethod">
                           <swe:Category>
                              <swe:value>linear</swe:value>
                           </swe:Category>
                        </sml:parameter>
                        <sml:parameter name="table">
                           <swe:Curve>
                              <swe:elementCount>
                                 <swe:Count>
                                    <swe:value>49</swe:value>
                                 </swe:Count>
                              </swe:elementCount>
                              <swe:elementType>
                                 <swe:SimpleDataRecord>
                                     <swe:field name="scanIndex">
                                       <swe:Quantity/>
                                    </swe:field>
                                    <swe:field name="rayStartingDistance">
                                       <swe:Quantity/>
                                    </swe:field>
                                 </swe:SimpleDataRecord>
                              </swe:elementType>
                              <swe:encoding>
                                 <swe:TextBlock tokenSeparator="," blockSeparator=" " decimalSeparator="."/>
                              </swe:encoding>
                              <swe:values>
                                 1.0,341923.0
                                 2.0,340673.0
                                 3.0,339424.0
                                 4.0,338299.0
                                 5.0,337174.0
                                 6.0,336049.0
                                 7.0,335049.0
                                 8.0,334174.0
                                 9.0,333299.0
                                 10.0,332424.0
                                 11.0,331674.0
                                 12.0,330924.0
                                 13.0,330424.0
                                 14.0,329674.0
                                 15.0,329174.0
                                 16.0,328674.0
                                 17.0,328174.0
                                 18.0,327924.0
                                 19.0,327674.0
                                 20.0,327424.0
                                 21.0,327174.0
                                 22.0,326924.0
                                 23.0,326924.0
                                 24.0,326924.0
                                 25.0,326924.0
                                 26.0,326924.0
                                 27.0,326924.0
                                 28.0,326924.0
                                 29.0,327174.0
                                 30.0,327424.0
                                 31.0,327674.0
                                 32.0,327924.0
                                 33.0,328174.0
                                 34.0,328674.0
                                 35.0,329174.0
                                 36.0,329674.0
                                 37.0,330424.0
                                 38.0,330924.0
                                 39.0,331674.0
                                 40.0,332424.0
                                 41.0,333299.0
                                 42.0,334174.0
                                 43.0,335049.0
                                 44.0,336049.0
                                 45.0,337174.0
                                 46.0,338299.0
                                 47.0,339424.0
                                 48.0,340673.0
                                 49.0,341923.0               
                              </swe:values>
                           </swe:Curve>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:ogc:def:process:LUT1D:1.0"/>
               </sml:ProcessModel>
            </sml:component>
             <!--~~~~~~~~~~~~~~~~~~~~-->
             <!-- Binary arithmeric index minus 1 -->
             <!--~~~~~~~~~~~~~~~~~~~~-->
             <sml:component name="BinaryIndexMinusOne">
                 <sml:ProcessModel>
                     <sml:inputs>
                         <sml:InputList>
                             <sml:input name="operand1">
                                 <swe:Quantity/>
                             </sml:input>
                             <sml:input name="operand2">
                                 <swe:Quantity>
                                     <swe:value>1.0</swe:value>
                                 </swe:Quantity>
                             </sml:input>
                         </sml:InputList>
                     </sml:inputs>
                     <sml:outputs>
                         <sml:OutputList>
                             <sml:output name="result">
                                 <swe:Quantity/>
                             </sml:output>
                         </sml:OutputList>
                     </sml:outputs>
                     <sml:parameters>
                         <sml:ParameterList>
                             <sml:parameter name="operator">
                                 <swe:Category>
                                     <swe:value>soustraction</swe:value>
                                 </swe:Category>
                             </sml:parameter>
                         </sml:ParameterList>
                     </sml:parameters>
                     <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
                 </sml:ProcessModel>
             </sml:component>
             <!--~~~~~~~~~~~~~~~~~~~~-->
             <!-- Binary arithmeric to calculate the distance between the first and Nth sample -->
             <!--~~~~~~~~~~~~~~~~~~~~-->
             <sml:component name="BinaryInterSampleDistance">
                 <sml:ProcessModel>
                     <sml:inputs>
                         <sml:InputList>
                             <sml:input name="operand1">
                                 <swe:Quantity/>
                             </sml:input>
                             <sml:input name="operand2">
                                <swe:Quantity>
                                   <swe:uom code="m"/>
                                   <swe:value>249.9936981</swe:value>
                                </swe:Quantity>
                             </sml:input>
                         </sml:InputList>
                     </sml:inputs>
                     <sml:outputs>
                         <sml:OutputList>
                             <sml:output name="result">
                                 <swe:Quantity/>
                             </sml:output>
                         </sml:OutputList>
                     </sml:outputs>
                     <sml:parameters>
                         <sml:ParameterList>
                             <sml:parameter name="operator">
                                 <swe:Category>
                                     <swe:value>multiplication</swe:value>
                                 </swe:Category>
                             </sml:parameter>
                         </sml:ParameterList>
                     </sml:parameters>
                     <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
                 </sml:ProcessModel>
             </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric to calculate the distance between the first and Nth sample -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryDistanceAddition">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                           <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>addition</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
             </sml:component>
         </sml:ComponentList>
      </sml:components>
      <!--~~~~~~~~~~~~~-->
      <!-- Connections -->
      <!--~~~~~~~~~~~~~-->
      <sml:connections>
         <sml:ConnectionList>
            <!-- Chain inputs to processes inputs -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/scanIndex"/>
                  <sml:destination ref="LUTscanAngle/inputs/scanIndex"/>
               </sml:Link>
            </sml:connection>
             <sml:connection>
                 <sml:Link>
                    <sml:source ref="this/inputs/scanIndex"/>
                    <sml:destination ref="LUTrayStartingDistance/inputs/scanIndex"/>
                 </sml:Link>
             </sml:connection>        
            <sml:connection>
               <sml:Link>
                   <sml:source ref="this/inputs/distanceIndex"/>
                   <sml:destination ref="BinaryIndexMinusOne/inputs/operand1"/>
               </sml:Link>
            </sml:connection>
             <!-- Processes outputs to other processes inputs --> 
             <sml:connection>
                 <sml:Link>
                    <sml:source ref="BinaryIndexMinusOne/outputs/result"/>
                     <sml:destination ref="BinaryInterSampleDistance/inputs/operand1"/>
                 </sml:Link>
             </sml:connection>
             <sml:connection>
                 <sml:Link>
                    <sml:source ref="BinaryInterSampleDistance/outputs/result"/>
                    <sml:destination ref="BinaryDistanceAddition/inputs/operand1"/>
                 </sml:Link>
             </sml:connection>
             <sml:connection>
                 <sml:Link>
                     <sml:source ref="LUTscanAngle/outputs/scanAngle"/>
                    <sml:destination ref="MatrixBuilderSatellite/inputs/orientation/x"/>
                 </sml:Link>
             </sml:connection>
             <sml:connection>
                 <sml:Link>
                    <sml:source ref="MatrixBuilderSatellite/outputs/posMatrix"/>
                    <sml:destination ref="VectorMatrixMultiplierSatellite/inputs/transformMatrix"/>
                 </sml:Link>
             </sml:connection>
 
            <!-- Last processes outputs to chain outputs -->      
            <sml:connection>
               <sml:Link>
                   <sml:source ref="VectorMatrixMultiplierSatellite/outputs/newVector"/>
                  <sml:destination ref="this/outputs/Satellite_view_vector"/>
               </sml:Link>
            </sml:connection>  
            <sml:connection>
               <sml:Link>
                  <sml:source ref="BinaryDistanceAddition/outputs/result"/>
                  <sml:destination ref="this/outputs/distanceOnTheViewVector"/>
               </sml:Link>
            </sml:connection>  
         </sml:ConnectionList>
      </sml:connections>
     </sml:ProcessChain>
    </sml:component>
    <!--~~~~~~~~~~~~~~~~~~-->
     <!--~~~~~~~~~~~~~~~~~~-->
     <!-- 2nd chain -->
     <!--~~~~~~~~~~~~~~~~~~-->  
     <!--~~~~~~~~~~~~~~~~~~-->
  <sml:component name="PR_generic">
   <sml:ProcessChain>
      <gml:description>
            This process chain transform the satellite view vector into the ECEF view vector.
      </gml:description>
      <!--~~~~~~~~~~~~~~~~~~-->
      <!-- Inputs & Outputs -->
      <!--~~~~~~~~~~~~~~~~~~-->
      <sml:inputs>
         <sml:InputList>
             <sml:input name="scanTime">
                <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                     <swe:uom code="s"/>
                 </swe:Time>
             </sml:input>
            <sml:input name="Satellite_view_vector">
               <swe:Vector definition="urn:ogc:def:data:viewVector">
                  <swe:coordinate name="x">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                      <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:input>
         </sml:InputList>
      </sml:inputs>
      <sml:outputs>
         <sml:OutputList>
            <sml:output name="ECEF_location">
               <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                  <swe:coordinate name="x">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:output>       
            <sml:output name="ECEF_view_vector">
               <swe:Vector definition="urn:ogc:def:data:viewVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                  <swe:coordinate name="x">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:output>
         </sml:OutputList>
      </sml:outputs>
      <sml:components>
         <sml:ComponentList>    
            <!--~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Matrix builder from satellite to orbit with attitude angles -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~-->                     
            <sml:component name="MatrixBuilderOrbit">
             <sml:ProcessModel>
               <sml:inputs>
                  <sml:InputList>
                     <sml:input name="orientation">
                        <swe:Vector definition="urn:ogc:def:data:orientationVector">
                           <swe:coordinate name="z">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                               <swe:uom code="rad"/>
                                 <swe:value>0.0</swe:value>
                              </swe:Quantity>
                           </swe:coordinate>
                           <swe:coordinate name="y">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                 <swe:uom code="rad"/>
                                 <swe:value>0.0</swe:value>
                              </swe:Quantity>
                           </swe:coordinate>
                           <swe:coordinate name="x">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                 <swe:uom code="rad"/>
                                 <swe:value>0.0</swe:value>
                              </swe:Quantity>
                           </swe:coordinate>
                        </swe:Vector>
                     </sml:input>
                  </sml:InputList>
               </sml:inputs>
               <sml:outputs>
                  <sml:OutputList>
                     <sml:output name="posMatrix">
                        <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                           <swe:elementCount>
                              <swe:Count>
                                 <swe:value>9</swe:value>
                              </swe:Count>
                           </swe:elementCount>
                           <swe:elementType name="element">
                              <swe:Quantity/>
                           </swe:elementType>
                        </swe:DataArray>
                     </sml:output>
                  </sml:OutputList>
               </sml:outputs>
                <sml:method xlink:href="urn:ogc:def:process:pos2Matrix3:1.0"/>
               </sml:ProcessModel>
            </sml:component>    
            <!--~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Matrix multiplication from satellite referentiel to orbit referentiel -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~-->                    
            <sml:component name="SatelliteVectorOrbitMatrixMultiplier">
            <sml:ProcessModel>
               <sml:inputs>
                  <sml:InputList>  
                     <sml:input name="vector">
                        <swe:Vector definition="urn:ogc:def:data:viewVector">
                           <swe:coordinate name="x">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                               <swe:uom code="m"/>
                              </swe:Quantity>    
                           </swe:coordinate>
                           <swe:coordinate name="y">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                 <swe:uom code="m"/>
                              </swe:Quantity> 
                           </swe:coordinate>
                           <swe:coordinate name="z">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                 <swe:uom code="m"/>
                              </swe:Quantity> 
                           </swe:coordinate>
                        </swe:Vector>
                     </sml:input>            
                     <sml:input name="transformMatrix">
                        <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                           <swe:elementCount>
                              <swe:Count>
                               <swe:value>9</swe:value>  
                              </swe:Count> 
                           </swe:elementCount>
                           <swe:elementType name="element">
                              <swe:Quantity/>
                           </swe:elementType>
                        </swe:DataArray>
                     </sml:input>
                  </sml:InputList>
               </sml:inputs>
               <sml:outputs>
                  <sml:OutputList>
                     <sml:output name="newVector">
                        <swe:Vector definition="urn:ogc:def:data:viewVector">
                           <swe:coordinate name="x">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                               <swe:uom code="m"/>
                              </swe:Quantity>
                           </swe:coordinate>
                           <swe:coordinate name="y">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                 <swe:uom code="m"/>
                              </swe:Quantity>
                           </swe:coordinate>
                           <swe:coordinate name="z">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                 <swe:uom code="m"/>
                              </swe:Quantity>
                           </swe:coordinate>
                        </swe:Vector>
                     </sml:output>
                  </sml:OutputList>
               </sml:outputs>
               <sml:method xlink:href="urn:ogc:def:process:vectorMatrixMultiplication:1.0"/>
              </sml:ProcessModel>
             </sml:component>   
            <!--~~~~~~~~~~~~~~-->
            <!-- TLE Provider -->
            <!--~~~~~~~~~~~~~~-->
            <sml:component name="tle">
               <sml:ProcessModel>
                  <!-- METADATA -->
                  <gml:description> Loads TLE data from a TLE data file and outputs the TLE corresponding to the requested time. </gml:description>
                  <!-- INPUTS -->
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                              <swe:uom code="s"/>
                           </swe:Time>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <!-- OUTPUTS -->
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="elements">
                           <swe:DataRecord gml:id="TLE_DATA" definition="urn:ogc:def:data:noradElements">
                              <!--id="TLE_DATA"-->
                              <swe:field name="epochYear">
                                 <swe:Quantity>
                                    <swe:uom code="a_g"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="epochDay">
                                 <swe:Quantity>
                                    <swe:uom code="d"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="bstar">
                                 <swe:Quantity/>
                              </swe:field>
                              <swe:field name="inclination">
                                 <swe:Quantity>
                                    <swe:uom code="deg"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="rightAscension">
                                 <swe:Quantity>
                                    <swe:uom code="deg"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="eccentricity">
                                 <swe:Quantity/>
                              </swe:field>
                              <swe:field name="argOfPerigee">
                                 <swe:Quantity>
                                    <swe:uom code="deg"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="meanAnomaly">
                                 <swe:Quantity>
                                    <swe:uom code="deg"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="meanMotion">
                                 <swe:Quantity>
                                    <swe:uom code="d-1"/>
                                 </swe:Quantity>
                              </swe:field>
                           </swe:DataRecord>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <!-- PARAMETERS -->
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="tleDataUrl">
                           <swe:Category>
                              <swe:value>C:/trmm.txt</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <!-- METHOD -->
                  <sml:method xlink:href="urn:vast:def:process:tleParser:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~-->
            <!-- SGP4 Propagator -->
            <!--~~~~~~~~~~~~~~~~~-->
            <sml:component name="sgp4">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                              <swe:uom code="s"/>
                           </swe:Time>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="ECI_location">
                           <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECI_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                        <sml:output name="ECI_velocity">
                           <swe:Vector definition="urn:ogc:def:data:velocityVector" referenceFrame="urn:ogc:def:crs:ECI_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="elements" xlink:href="#TLE_DATA"/>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:ogc:def:process:SGP4:1.0"/>
               </sml:ProcessModel>
            </sml:component> 
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Transformation of Velocity Vector from ECI to ECEF -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="eciVelToEcef">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                            <swe:uom code="s"/>  
                           </swe:Time>
                        </sml:input>
                        <sml:input name="ECI_velocity">
                           <swe:Vector definition="urn:ogc:def:data:velocityVector" referenceFrame="urn:ogc:def:crs:ECI_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="ECEF_velocity">
                           <swe:Vector definition="urn:ogc:def:data:velocityVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:method xlink:href="urn:ogc:def:process:eciVelToEcef:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Transformation of Location Vector from ECI to ECEF -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="eciToEcef">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                              <swe:uom code="s"/>  
                           </swe:Time>
                        </sml:input>
                        <sml:input name="ECI_location">
                           <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECI_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="ECEF_location">
                           <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:method xlink:href="urn:ogc:def:process:eciToEcef:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Geocentric Pointing Position -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="nadirPointing">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="location">
                           <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>
                        <sml:input name="velocity">
                           <swe:Vector definition="urn:ogc:def:data:velocityVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="posMatrix">
                           <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                              <swe:elementCount>
                                 <swe:Count>
                                    <swe:value>9</swe:value>
                                 </swe:Count>
                              </swe:elementCount>
                              <swe:elementType name="element">
                                 <swe:Quantity/>
                              </swe:elementType>
                           </swe:DataArray>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="upAxis">
                           <swe:Category>
                              <swe:value>Z</swe:value>
                           </swe:Category>
                        </sml:parameter>
                        <sml:parameter name="forwardAxis">
                           <swe:Category>
                              <swe:value>X</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:ogc:def:process:nadirPointing3:1.0"/>
               </sml:ProcessModel>
            </sml:component>
               <!--~~~~~~~~~~~~~~~~~~~~~~~-->
               <!-- Matrix multiplication from satellite referentiel to orbit referentiel -->
               <!--~~~~~~~~~~~~~~~~~~~~~~~-->   
            <sml:component name="OrbitVectorECEFMatrixMultiplier">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>  
                        <sml:input name="vector">
                           <swe:Vector definition="urn:ogc:def:data:viewVector">
                              <swe:coordinate name="x">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                  <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>            
                        <sml:input name="transformMatrix">
                           <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                              <swe:elementCount>
                                 <swe:Count>
                                    <swe:value>9</swe:value>
                                 </swe:Count>
                              </swe:elementCount>
                              <swe:elementType name="element">
                                 <swe:Quantity/>
                              </swe:elementType>
                           </swe:DataArray>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="newVector">
                           <swe:Vector definition="urn:ogc:def:data:viewVector">
                              <swe:coordinate name="x">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:method xlink:href="urn:ogc:def:process:vectorMatrixMultiplication:1.0"/>
                  </sml:ProcessModel>
                </sml:component>
         </sml:ComponentList>
      </sml:components>
      <!--~~~~~~~~~~~~~-->
      <!-- Connections -->
      <!--~~~~~~~~~~~~~-->
      <sml:connections>
         <sml:ConnectionList>
            <!-- Time Input to Processes -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/scanTime"/>
                  <sml:destination ref="tle/inputs/julianTime"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/scanTime"/>
                  <sml:destination ref="sgp4/inputs/julianTime"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/scanTime"/>
                  <sml:destination ref="eciToEcef/inputs/julianTime"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/scanTime"/>
                  <sml:destination ref="eciVelToEcef/inputs/julianTime"/>
               </sml:Link>
            </sml:connection>
            <!-- Matrix3_3builderorbit to SatelliteVectorOrbitMatrixMultiplier -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="MatrixBuilderOrbit/outputs/posMatrix"/>
                  <sml:destination ref="SatelliteVectorOrbitMatrixMultiplier/inputs/transformMatrix"/>
               </sml:Link>
            </sml:connection>
            <!-- satellite view vector to SatelliteVectorOrbitMatrixMultiplier -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/Satellite_view_vector"/>
                  <sml:destination ref="SatelliteVectorOrbitMatrixMultiplier/inputs/vector"/>
               </sml:Link>
            </sml:connection> 
            <!-- TLE to SGP4 -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="tle/outputs/elements"/>
                  <sml:destination ref="sgp4/parameters/elements"/>
               </sml:Link>
            </sml:connection>
            <!-- SGP4 to ECI/ECEF converters -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="sgp4/outputs/ECI_location"/>
                  <sml:destination ref="eciToEcef/inputs/ECI_location"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="sgp4/outputs/ECI_velocity"/>
                  <sml:destination ref="eciVelToEcef/inputs/ECI_velocity"/>
               </sml:Link>
            </sml:connection>
            <!-- ECI/ECEF converters to Geocentric Pointing -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="eciToEcef/outputs/ECEF_location"/>
                  <sml:destination ref="nadirPointing/inputs/location"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="eciVelToEcef/outputs/ECEF_velocity"/>
                  <sml:destination ref="nadirPointing/inputs/velocity"/>
               </sml:Link>
            </sml:connection>  
            <!-- orbit view vector to satellite view vector to SatelliteVectorOrbitMatrixMultiplier -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="SatelliteVectorOrbitMatrixMultiplier/outputs/newVector"/>
                   <sml:destination ref="OrbitVectorECEFMatrixMultiplier/inputs/vector"/>
               </sml:Link>
            </sml:connection>      
            <!-- Nadir pointing matrix to orbit view vector to OrbitVectorEcefMatrixMultiplier -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="nadirPointing/outputs/posMatrix"/>
                  <sml:destination ref="OrbitVectorECEFMatrixMultiplier/inputs/transformMatrix"/>
               </sml:Link>
            </sml:connection> 
            <!-- last processes outputs to chain outputs -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="OrbitVectorECEFMatrixMultiplier/outputs/newVector"/>
                  <sml:destination ref="this/outputs/ECEF_view_vector"/>
               </sml:Link>
            </sml:connection> 
            <sml:connection>
               <sml:Link>
                  <sml:source ref="eciToEcef/outputs/ECEF_location"/>
                  <sml:destination ref="this/outputs/ECEF_location"/>
               </sml:Link>
            </sml:connection> 
         </sml:ConnectionList>
      </sml:connections>
   </sml:ProcessChain>
  </sml:component> 
     <!--~~~~~~~~~~~~~~~~~~-->
     <!--~~~~~~~~~~~~~~~~~~-->
     <!-- 3rd chain -->
     <!--~~~~~~~~~~~~~~~~~~-->  
     <!--~~~~~~~~~~~~~~~~~~-->
  <sml:component name="PR_data_location">
   <sml:ProcessChain>
      <gml:description>
            This process chain transform the satellite view vector into the ECEF view vector.
      </gml:description>
      <!--~~~~~~~~~~~~~~~~~~-->
      <!-- Inputs & Outputs -->
      <!--~~~~~~~~~~~~~~~~~~-->
      <sml:inputs>
         <sml:InputList>
            <sml:input name="ECEF_location">
               <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                  <swe:coordinate name="x">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
               </sml:input>       
            <sml:input name="ECEF_view_vector">
               <swe:Vector definition="urn:ogc:def:data:viewVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                  <swe:coordinate name="x">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:input>
            <sml:input name="distanceOnTheViewVector">
             <swe:Quantity>
               <swe:uom code="m"/>
             </swe:Quantity>
            </sml:input> 
         </sml:InputList>
      </sml:inputs>
      <sml:outputs>
         <sml:OutputList>
            <sml:output name="ECEF_data_location">
               <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                  <swe:coordinate name="x">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:output>       
         </sml:OutputList>
      </sml:outputs>
      <sml:components>
         <sml:ComponentList>  
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric  -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryViewVectorWithDistanceOnX">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                           <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>multiplication</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric  -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryViewVectorWithDistanceOnY">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                           <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>multiplication</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric  -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryViewVectorWithDistanceOnZ">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                           <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>multiplication</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric  -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryLocationAdditionOnX">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                           <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>addition</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric  -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryLocationAdditionOnY">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                           <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>addition</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric  -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryLocationAdditionOnZ">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                           <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>addition</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
            </sml:component>
         </sml:ComponentList>
      </sml:components>
      <!--~~~~~~~~~~~~~-->
      <!-- Connections -->
      <!--~~~~~~~~~~~~~-->
      <sml:connections>
         <sml:ConnectionList>
            <!--  -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/ECEF_view_vector/x"/>
                  <sml:destination ref="BinaryViewVectorWithDistanceOnX/inputs/operand1"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/ECEF_view_vector/y"/>
                  <sml:destination ref="BinaryViewVectorWithDistanceOnY/inputs/operand1"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/ECEF_view_vector/z"/>
                  <sml:destination ref="BinaryViewVectorWithDistanceOnZ/inputs/operand1"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/distanceOnTheViewVector"/>
                  <sml:destination ref="BinaryViewVectorWithDistanceOnX/inputs/operand2"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/distanceOnTheViewVector"/>
                  <sml:destination ref="BinaryViewVectorWithDistanceOnY/inputs/operand2"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/distanceOnTheViewVector"/>
                  <sml:destination ref="BinaryViewVectorWithDistanceOnZ/inputs/operand2"/>
               </sml:Link>
            </sml:connection>
            <!-- ///////////////////////////////////////////////////////////////// -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/ECEF_location/x"/>
                  <sml:destination ref="BinaryLocationAdditionOnX/inputs/operand1"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/ECEF_location/y"/>
                  <sml:destination ref="BinaryLocationAdditionOnY/inputs/operand1"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/ECEF_location/z"/>
                  <sml:destination ref="BinaryLocationAdditionOnZ/inputs/operand1"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="BinaryViewVectorWithDistanceOnX/outputs/result"/>
                  <sml:destination ref="BinaryLocationAdditionOnX/inputs/operand2"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="BinaryViewVectorWithDistanceOnY/outputs/result"/>
                  <sml:destination ref="BinaryLocationAdditionOnY/inputs/operand2"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="BinaryViewVectorWithDistanceOnZ/outputs/result"/>
                  <sml:destination ref="BinaryLocationAdditionOnZ/inputs/operand2"/>
               </sml:Link>
            </sml:connection>
            <!-- ///////////////////////////////////////////////////////////////// -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="BinaryLocationAdditionOnX/outputs/result"/>
                  <sml:destination ref="this/outputs/ECEF_data_location/x"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="BinaryLocationAdditionOnY/outputs/result"/>
                  <sml:destination ref="this/outputs/ECEF_data_location/y"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="BinaryLocationAdditionOnZ/outputs/result"/>
                  <sml:destination ref="this/outputs/ECEF_data_location/z"/>
               </sml:Link>
            </sml:connection>
         </sml:ConnectionList>
      </sml:connections>
   </sml:ProcessChain>
  </sml:component> 
  </sml:ComponentList>
 </sml:components>
   <!--~~~~~~~~~~~~~-->
   <!-- Connections -->
   <!--~~~~~~~~~~~~~-->
   <sml:connections>
      <sml:ConnectionList>     
         <sml:connection>
            <sml:Link>
               <sml:source ref="this/inputs/scanIndex"/>
               <sml:destination ref="PR_specific/inputs/scanIndex"/>
            </sml:Link>
         </sml:connection>          
         <sml:connection>
            <sml:Link>
               <sml:source ref="this/inputs/distanceIndex"/>
               <sml:destination ref="PR_specific/inputs/distanceIndex"/>
            </sml:Link>
         </sml:connection>  
         <sml:connection>
            <sml:Link>
               <sml:source ref="this/inputs/scanTime"/>
                <sml:destination ref="PR_generic/inputs/scanTime"/>
            </sml:Link>
         </sml:connection>  
          <!-- inter-chain O/I -->
          <sml:connection>
              <sml:Link>
                 <sml:source ref="PR_specific/outputs/Satellite_view_vector"/>
                 <sml:destination ref="PR_generic/inputs/Satellite_view_vector"/>
              </sml:Link>
          </sml:connection>  
         <sml:connection>
            <sml:Link>
               <sml:source ref="PR_generic/outputs/ECEF_location"/>
               <sml:destination ref="PR_data_location/inputs/ECEF_location"/>
            </sml:Link>
         </sml:connection>  
         <sml:connection>
            <sml:Link>
               <sml:source ref="PR_generic/outputs/ECEF_view_vector"/>
               <sml:destination ref="PR_data_location/inputs/ECEF_view_vector"/>
            </sml:Link>
         </sml:connection>  
         <sml:connection>
            <sml:Link>
               <sml:source ref="PR_specific/outputs/distanceOnTheViewVector"/>
               <sml:destination ref="PR_data_location/inputs/distanceOnTheViewVector"/>
            </sml:Link>
         </sml:connection> 
         <sml:connection>
            <sml:Link>
               <sml:source ref="PR_data_location/outputs/ECEF_data_location"/>
               <sml:destination ref="this/outputs/ECEF_data_location"/>
            </sml:Link>
         </sml:connection>
      </sml:ConnectionList>
  </sml:connections>    
 </sml:ProcessChain>
    </sml:member>      
</sml:SensorML>